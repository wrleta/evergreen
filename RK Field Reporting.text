RK Field Reporting â€” Master Architecture Context Pack (drop into future chats)
(Use this as the â€œproject briefâ€ so we donâ€™t lose intent when chats get long/glitchy.)

1) What this system is
A phone-first field reporting system for RK that:
prompts crews (and fallbacks) to submit daily field reports

captures audio + transcript + AI summary + confidence

ties reports to one or multiple jobsites

escalates urgent/critical/emergency issues immediately

keeps an audit trail so nothing is â€œlostâ€ if someone calls twice or revises

It soft-launches via Twilio voice, then expands to SMS intake + portal links (rkcorp.com) using the same back-end data model.

2) Core goals and constraints
Goals
Get reliable daily reporting (scheduled + on-demand)

Reduce office chasing, but keep accountability

Support â€œmulti-stop daysâ€ (8 gutter cleans, gift drop-offs, estimator rounds)

Handle â€œnot the assigned reporterâ€ cases safely (delegation / staff assist)

Handle â€œunknown / unregisteredâ€ callers with scrutiny (not blocked, but flagged)

Constraints
Make.com routers require route filters (no implied logic)

Webhook â€œprimingâ€ matters: Make only remembers fields it has seen

Google Sheets is the system-of-record (fast + auditable), Drive stores recordings


3) Canonical data objects (how information should be modeled)
Think of 3 primary objects, plus supporting tables:
A) People (Roster)
A person can be:
trusted reporter (crew lead / field reporter / office)

limited reporter (crew member)

unknown (not listed)

B) Jobsites and assignments
Jobsites = master list of sites

Assignments = who is scheduled where today (the roster list)

C) Reports (append-only)
Each call/SMS submission becomes a report record:
links to caller + crew + (optional) jobsite(s)

stores transcript, summary, confidence, severity

drives notifications + â€œreported/pendingâ€ status updates

Important design rule:
Never overwrite a reportâ€”append new reports, and update status fields separately.

4) Severity model (recommended)
Replace binary emergency/non-emergency with deterministic levels:
FYI: general updates, access notes, gate code, â€œtomorrow needsâ€¦â€

Urgent: office action needed today (materials/tools/truck/tire/access blocking)

Critical: safety/compliance disruption (OSHA/police activity, injury risk)

Emergency: active threat/evacuation/enforcement presence/violence

Routing rule: the system uses DTMF choice + AI flagging; emergency can still be a â€œpanic keyâ€ override.

5) Google Sheets workbook expectations
These are the tabs and what they do (names can evolve, but the roles shouldnâ€™t):
Required (already in your ecosystem)
Control: office closed / force send / force skip / force dialer toggles by date

Holidays: suppress manifests on holidays

Manifest: todayâ€™s scheduled work list (legacy-compatible view)

Call_Logs: call attempt records + status callbacks + recording pointers

 (Scenario 6/7/8 assume this exists.)

Strongly recommended (foundation tabs)
Settings: phone numbers, portal base URL, thresholds, digest times

Roster_Master (renamed from Staff_Master): people + phone + trust tier + language

Crews: crew definitions + default reporter/lead

Jobsites: canonical site list + access notes (not always emailed)

Assignments: daily crew-to-jobsite roster (powers â€œpress 1/2/3â€ lists)

For multi-site and audit trail
Reports (append-only): one row per submitted report (voice/SMS/portal)

Report_Items: one-to-many list (supports â€œ8 sites todayâ€ in one report)

Unknown_Callers: unknown numbers + captured name/crew claim + review flag

SMS_Inbox: raw inbound texts + media links + parse status

Portal_Auth / Portal_Sessions: tokens + URLs + access state (future)


6) End-to-end data flow
Voice call flow (soft launch path)
Twilio inbound call hits Scenario 9 (Inbound IVR Handler)

Scenario 9 decides route (known caller vs unknown; menu choices; worker id entry)

Scenario 9 redirects to Scenario 4 (AI Voice Greeter) to handle the live capture experience

Speech + recording callbacks hit:

Scenario 7 (Audio Logger) for recording file â†’ Drive â†’ update Call_Logs/Reports

Scenario 5 (Speech Processor) for transcription/summary/severity/confidence â†’ update Call_Logs/Reports

Scenario 8 (Office Alerts) pushes immediate alerts (Emergency/Critical/Urgent) and/or queues digest

Scenario 1 (Daily Review Email) and Scenario 2 (Scheduled Dialer) handle scheduled compliance (manifest emails + outbound calls)

Scenario 3 (Redial Webhook) is the â€œretryâ€ pathway when something fails or staff triggers a re-call

SMS + portal flow (future expansion, same back-end)
SMS comes in â†’ log raw inbound to SMS_Inbox

AI parses â†’ writes Reports (+ Report_Items)

Portal sends a personalized link â†’ Portal_Sessions

Submissions also become Reports rows (channel=PORTAL)


7) Scenario map (what each scenario is supposed to do)
Hereâ€™s the expected job of each one (so we can fix them without losing intent):
Scenario 1 â€” Daily Review Email
Purpose: send staff a branded digest of todayâ€™s manifest status (pending vs reported).
Must do:
honor Control/Holidays (office closed / suppress / force-send)

compute counts

send only ONE email even if Sheets returns multiple bundles (index guard)

link to â€œopen pending manifestâ€ view (sheet or portal)

include the â€œwork listâ€ (pending rows) + status colors

Scenario 2 â€” Scheduled Dialer
Purpose: outbound calls to crews who havenâ€™t reported by cutoff.
Must do:
read pending list

respect max attempts per row/person

write call attempts to Call_Logs

update Manifest/Assignments attempt counters + timestamps

trigger status callback path (Scenario 6) and recording path (Scenario 7)

avoid â€œcompleted = successâ€ mistakes (AMD matters)

Scenario 3 â€” Redial Webhook
Purpose: on-demand retry call (manual or automated) for a specific worker/site.
Must do:
accept worker/site identifiers

create call, write Call_Logs row, update attempt counters

keep idempotency (donâ€™t duplicate logs accidentally)

Scenario 4 â€” AI Voice Greeter
Purpose: the live â€œfront doorâ€ TwiML experience.
Must do:
greet with name if identified (Roster_Master match)

confirm recording notice

guide DTMF choices (report type / severity)

set Mode values for downstream (â€œUnknownMenuDispatchâ€, â€œWorkerIdEnteredâ€, â€œGeneralNoteâ€, etc.)

redirect to the right next step

Scenario 5 â€” Speech Processor
Purpose: take speech result, run GPT transcription/summary/flags, write structured output.
Must do:
write transcript + summary + confidence into Call_Logs and/or Reports

set Review_Status (Auto-OK vs Needs Review)

set Severity (and preserve DTMF override)

determine if report is â€œcomplete enoughâ€ to clear pending status

Scenario 6 â€” Call Status Logger
Purpose: Twilio status callback handler.
Must do:
update Call_Logs with status/duration/answeredBy/recordingSid if present

connect statuses to the correct call attempt (row lookup must be accurate)

Scenario 7 â€” RK Audio Logger
Purpose: recording callback handler â†’ download mp3 â†’ upload Drive â†’ write URLs back.
Must do:
always coerce mp3 if needed

create month folders (MM.YYYY) if missing

write Recording_URL + Drive file info back to Call_Logs/Reports

Scenario 8 â€” RK Office Alerts
Purpose: notify office based on Severity and review needs.
Must do:
Emergency: immediate email + immediate chat

Critical: immediate chat + email

Urgent: immediate chat (and include in digest)

FYI: digest only

include transcript + summary + recording link

support â€œbutton clicksâ€ (ack/review/escalate/resolve) via webhook links updating the Report row

Scenario 9 â€” Inbound IVR Handler
Purpose: routing brain for inbound call events.
Must do:
use Mode + Digits + lookups to decide path

support:

known caller fast-path

unknown caller menu

worker id entry

general note path

never execute multiple routes accidentally (router filters required)

use Roster_Master (not Staff_Master)

carry canonical fields (From/To/CallSid/Language/CallLogID/etc.)


8) Known â€œintent gapsâ€ to address next
These are features your intent clearly wants, but current scenarios likely only partially implement:
Multi-site reporting in one session

 Solution: Report_Items + â€œsite selection listâ€ + optional â€œadd another siteâ€ loop.

Unknown caller scrutiny without blocking

 Solution: trust tier rules + Unknown_Callers capture + Needs Review default.

â€œGeneral noteâ€ not tied to a site

 Solution: Report_Type=General, Jobsite_ID blank, still logged + digest.

Finish criteria (hangup handling)

 Solution: thresholds for transcript length/confidence to mark â€œcomplete vs partial,â€ and only clear pending when complete.

Office â€œbutton clicksâ€

 Solution: action links â†’ webhook â†’ updates Office_Status and Ack_By/Ack_At.

Stable priming and canonical payload contract

 Solution: one universal prime querystring for all webhooks; add any new fields once, not per scenario.


9) Testing and operational expectations
Inbound number (Twilio): +16317803880

Walter test cell: +16313382495

Always test 3 inbound phases:

initial call (Mode empty/unidentified)

unknown menu dispatch (Mode=UnknownMenuDispatch, Digits=1/2/0)

worker id entered (Mode=WorkerIdEntered, Digits=####)


10) â€œArchitect-style scope summaryâ€
Program: Field Reporting System (Phone â†’ AI â†’ Office Routing â†’ Compliance)
Phases:
Phone soft launch: inbound IVR + recording + AI summary + emergency alerts

Compliance automation: daily manifest digests + outbound dialing for non-reporters

Office workflow: triage actions + review queue + audit trail

SMS intake: structured SMS submissions + photo support

Portal: per-person link, per-day roster, multi-site checklist, status updates

Interfaces:
Field â†’ Twilio Voice/SMS

Twilio â†’ Make webhooks

Make â†’ Google Sheets (system-of-record)

Make â†’ Google Drive (audio storage)

Make â†’ Gmail + Google Chat (office notifications)


If you want, I can also output this as a single compact â€œSYSTEM CONTEXTâ€ block you can paste at the top of any new chat and say â€œuse this as spec.â€
PS: If you share a screenshot/export of your current tab headers (especially Call_Logs), Iâ€™ll align the â€œexpected column meaningsâ€ precisely so scenario fixes donâ€™t drift.


make.com ui notes

Got it. Iâ€™ll **normalize this into a Make-style, UI-faithful catalog** that you can **paste, scan, or feed back as reference**.
Iâ€™m **not inventing names** â€” this mirrors **Makeâ€™s module picker taxonomy**: **App â†’ Category â†’ Module â†’ Notes**.

Below is the **organized, deduplicated, UI-matching structure**.

---

# ğŸ§  OPENAI (ChatGPT, Sora, DALL-E, Whisper)

## Chat & Responses

* **Generate a response**
  Generates a response (responses API).
* **Get a response**
  Retrieve an existing response.
* **Delete a response**
  Delete a response.
* **Delete a conversation**
  Delete an existing conversation.
* **List input items**
  Lists input items for a response.

## Chat / Assistant

* **Generate a completion**
  Generates a chat completion.
* **Message an assistant**
  Send messages to an Assistant v2 thread and execute it.
* **Generate a moderation**
  Classifies text/images for policy categories.

## Files & Vector Stores

* **Upload a file**
* **Download a container file**
* **Add files to a vector store**

## Images

* **Generate images**
* **Analyze images (Vision)**
* **Edit images**

## Audio

* **Generate speech from text**
* **Generate a transcription**
* **Generate a translation (Whisper)**

## Video (Sora)

* **Generate a video**
* **Remix a video**
* **Get a video**
* **List video jobs**
* **Delete a video**
* **Watch video jobs** *(trigger)*

## Batches

* **Create a batch**
* **Get a batch**
* **List batches**
* **Cancel a batch**
* **Watch batch completed** *(trigger)*

## Other

* **Transform text to structured data**
* **Make an API call**

---

# ğŸ“Š GOOGLE SHEETS

## Rows

* Watch New Rows *(trigger)*
* Add a Row
* Update a Row
* Bulk Add Rows (Advanced)
* Bulk Update Rows (Advanced)
* Search Rows
* Search Rows (Advanced)
* Clear a Row
* Delete a Row

## Cells

* Watch Changes *(trigger)*
* Update a Cell
* Get a Cell
* Clear a Cell

## Sheets

* Perform a Function
* Perform a Function â€“ Responder
* Add a Sheet
* Copy a Sheet
* Rename a Sheet
* Delete a Sheet
* List Sheets
* Get Range Values
* Clear Values from a Range
* Add / Delete Conditional Format Rule

## Spreadsheets

* Create a Spreadsheet
* Create a Spreadsheet from a Template

## Other

* Make an API Call

---

# ğŸ” FLOW CONTROL

* **Router**
* **Iterator**
* **Repeater**
* **Array Aggregator**

---

# ğŸŒ WEBHOOKS

## Triggers

* Custom webhook *(trigger)*
* Custom mailhook *(trigger)*

## Actions

* Webhook response

---

# ğŸŒ HTTP

* **Make a request**

---

# ğŸ“ GOOGLE DRIVE

## Files & Folders

* Watch Files in a Folder *(trigger)*
* Watch All Files *(trigger)*
* Watch Folders *(trigger)*
* Search for Files/Folders
* Download a File
* Upload a File
* Create a File from Text
* Update a File
* Copy a File
* Move a File/Folder
* Move to Trash
* Delete a File/Folder

## Access

* Get a Share Link
* Update File/Folder Access
* Revoke File/Folder Access

## Shared Drives

* Watch Shared Drives *(trigger)*
* Search Shared Drives
* Create / Get / Update / Delete Shared Drive

## Revisions

* List File Revisions
* Get / Update / Delete File Revision

## Other

* Watch Comments *(trigger)*
* Get Folder ID for Path
* Get File/Folder Path for ID
* Make an API Call

---

# ğŸ“§ GMAIL

## Triggers

* Watch emails *(trigger)*

## Email

* Send an email
* Reply to an email
* Search emails
* Get an email
* Copy / Move email
* Update labels
* Mark read / unread
* Delete email

## Drafts

* Create draft
* Send draft

## Attachments

* List attachments & media

## Other

* Make an API Call

---

# ğŸ§¾ JSON / TEXT

## JSON

* Create JSON
* Parse JSON
* Transform to JSON
* Aggregate to JSON
* Convert JSON to XML

## Text Parser

* Get content from HTML table
* Get elements from HTML
* HTML to text
* Match pattern (Basic / Advanced)
* Replace

---

# ğŸ“ TWILIO

## Messages

* Watch Messages *(trigger)*
* Create / List / Get / Delete Message
* List Message Media
* Download Media

## Calls

* Watch Calls *(trigger)*
* Create / List / Get / Delete Call

## Recordings

* Watch Recordings *(trigger)*
* Download Recording
* List Recording Transcriptions

## Transcriptions

* Watch Transcriptions *(trigger)*

## Notifications

* Watch Alerts *(trigger)*

## Executions

* Create / Get / Update / Delete Execution

## Other

* Line Type Lookup
* API Call (General / Studio / Lookup)

---

# ğŸ“„ NOTION

## Data Sources / Databases

* Watch Data Source Items *(trigger)*
* Create / Update / Get Data Source Item
* Create / Update / Get Database
* Create / Update Data Source

## Pages

* Watch Objects *(trigger)*
* Get / Create / Update Page

## Page Content

* Watch Page Contents *(trigger)*
* List / Get / Append / Update / Delete Content

## Users & Events

* List Users
* Watch Events *(trigger)*

## Other

* Make an API Call

---

# ğŸ§¾ QUICKBOOKS

## Core Events

* New Event *(trigger)*

## Sales

* Invoice / Estimate / Sales Receipt
* Create / Update / Delete / Send / Download / Search

## Payments

* Create / Update / Delete / Get / Search
* Watch Payments *(trigger)*

## Purchases

* Bill / Purchase / Vendor / PO
* Create / Update / Delete / Get / Search

## Customers & Items

* Customer / Item CRUD

## Accounting

* Journal Entry
* Account
* Deposit
* Credit Memo
* Refund Receipt

## Files

* Upload / Download / Delete Attachment

## Other

* Get My Company
* Make an API Call

---

# ğŸ¤– MAKE AI TOOLKIT

## Basic AI

* Ask anything
* Extract information
* Categorize text
* Translate text
* Identify language
* Summarize text
* Analyze sentiment
* Standardize text

## Advanced AI

* Chunk text

---

# ğŸ§  MAKE AI AGENTS

* Run an Agent
* Create / Upsert Agent Context (text / file)
* Get Agent Contexts
* Delete Agent Context(s)

---

# ğŸ“‘ PANDADOC

## Documents

* Watch Documents *(trigger)*
* Search / Get / Create / Download / Delete Document

## Contacts

* List / Get / Create / Update / Delete Contact

## Other

* Make an API Call

---

# ğŸ§© HUBSPOT CRM

*(This is correctly massive â€” used selectively)*

Major object groups:

* Contacts
* Companies
* Deals
* Tickets
* Products
* Line Items
* Orders
* Engagements (Calls, Notes, Tasks, Emails)
* Files
* Forms
* Workflows
* Subscriptions
* Associations
* Events / Notifications
* Timeline Events

(All with Watch / Create / Update / Get / Search / Delete where applicable)

---

# ğŸ—‚ SCENARIOS (MAKE)

* Call a subscenario
* Start a scenario
* Return output
* Customize run name

---

# ğŸ“… GOOGLE CALENDAR

* Watch Events *(trigger)*
* Search / Get / Create / Update / Delete Event
* Calendars CRUD
* Access Control Rules
* Free/Busy
* Make an API Call

---

# ğŸ§¾ GOOGLE DOCS

* Watch Documents *(trigger)*
* List Documents
* Get Content
* Create Document (HTML / Template)
* Insert Paragraph / Image
* Replace Text / Image
* Download / Delete Document
* Make Links Clickable
* Make an API Call

---

# ğŸ“± APPLE iOS

## Triggers

* Watch Calendar
* Watch Barcode / QR
* Watch Button
* Watch Contacts
* Watch Geofence
* Watch Photos
* Watch Reminders

## Actions

* Create Calendar Event
* Create Contact
* Create Reminder
* Send Push Notification
* Upload Photo

---

# ğŸ§­ GOOGLE MAPS

* Search for Places
* Get Directions
* Get Location
* Get Distance Matrix
* Get Elevation
* Get Roads
* Get Timezone
* Get Static Map Image
* Make an API Call

---

# ğŸ§  CONTEXT NOTE (your comment)

* **Notion / HubSpot / PandaDoc / QuickBooks** â†’ *contextual / optional*
* **Primary stack (your project)** looks like:
  **Twilio + OpenAI + Google Sheets + Google Drive + Gmail + Webhooks + Flow Control**

Thatâ€™s the **clean, UI-matching reference map**.

If you want next:

* ğŸ” **â€œWhat should I actually use for RK Field Reporting?â€**
* ğŸ§  **Module pruning for performance & sanity**
* ğŸ§© **Scenario architecture map (human-readable)**

Say the word.


Yep â€” this is exactly the kind of â€œUI pill dictionaryâ€ Make needs. Iâ€™m going to **cleanly re-organize** what you pasted into **(1) the function drawers** and **(2) module-output pills** with **copy-ready pill strings** and **notes on whatâ€™s missing / what merged**.

---

# 1) Gear icon â€” General functions

## Variables

* `executionId` â†’ `{{executionId}}`

## Functions

* `()` â†’ `{{()}}`
* `get` â†’ `{{get(; )}}`
* `if` â†’ `{{if(; ; )}}`
* `ifempty` â†’ `{{ifempty(; )}}`

## Operators / Logic helpers

* `switch` â†’ `{{switch(; ; )}}`
* `omit` â†’ `{{omit()}}`
* `pick` *(you listed it in the merged string but not in the UI list)* â†’ `{{pick()}}`
* `and` â†’ `&`
* `or` â†’ `|`
* `=` `!=`

## Keywords / Literals

* `true` â†’ `{{true}}`
* `false` â†’ `{{false}}`
* `ignore` â†’ `{{ignore}}`
* `null` â†’ `{{null}}`
* `erase` â†’ `{{erase}}`

### Copy string (your â€œmergedâ€ style)

`{{executionId}}{{()}}{{get(; )}}{{if(; ; )}}{{ifempty(; )}}{{switch(; ; )}}{{omit()}}{{pick()}}= != & | {{true}}{{false}}{{ignore}}{{null}}{{erase}}`

---

# 2) â€œ1^â€ icon â€” Math functions

## Variables

* `pi` â†’ `{{pi}}`
* `random` â†’ `{{random}}`

## Functions

* `average` â†’ `{{average()}}`
* `abs` â†’ `{{abs()}}`
* `ceil` â†’ `{{ceil()}}`
* `floor` â†’ `{{floor()}}`
* `round` â†’ `{{round()}}`
* `trunc` â†’ `{{trunc()}}`
* `sum` â†’ `{{sum()}}`
* `formatNumber` â†’ `{{formatNumber(; ; ; )}}`
* `parseNumber` â†’ `{{parseNumber(; )}}`
* `median` â†’ `{{median()}}`
* `max` â†’ `{{max()}}`
* `min` â†’ `{{min()}}`
* `stdevS` â†’ `{{stdevS()}}`
* `stdevP` â†’ `{{stdevP()}}`

## Operators

* `*` `/` `%` `mod` `+` `-` `<` `<=` `>` `>=`

### Copy string (clean)

`{{pi}}{{random}}{{average()}}{{abs()}}{{ceil()}}{{floor()}}{{round()}}{{trunc()}}{{sum()}}{{parseNumber(; )}}{{median()}}{{max()}}{{min()}}{{stdevS()}}{{stdevP()}}{{formatNumber(; ; ; )}} * / % mod + - < <= > >=`

---

# 3) â€œAâ€ icon â€” Text & binary functions

## Variables

* `uuid` â†’ `{{uuid}}`

## Functions

* `length` â†’ `{{length()}}`
* `lower` â†’ `{{lower()}}`
* `upper` â†’ `{{upper()}}`
* `capitalize` â†’ `{{capitalize()}}`
* `startcase` â†’ `{{startcase()}}`
* `trim` â†’ `{{trim()}}`
* `replace` â†’ `{{replace(; ; )}}`
* `replaceEmojiCharacters` â†’ `{{replaceEmojiCharacters(; )}}`
* `substring` â†’ `{{substring(; ; )}}`
* `indexOf` â†’ `{{indexOf(; )}}`
* `contains` â†’ `{{contains(; )}}`
* `split` â†’ `{{split(; )}}`
* `toBinary` â†’ `{{toBinary()}}`
* `toString` â†’ `{{toString()}}`
* `encodeURL` â†’ `{{encodeURL()}}`
* `decodeURL` â†’ `{{decodeURL()}}`
* `escapeHTML` â†’ `{{escapeHTML()}}`
* `escapeMarkdown` â†’ `{{escapeMarkdown()}}`
* `stripHTML` â†’ `{{stripHTML()}}`
* Hashing / encoding:

  * `md5` â†’ `{{md5()}}`
  * `sha1` â†’ `{{sha1()}}`
  * `sha256` â†’ `{{sha256()}}`
  * `sha512` â†’ `{{sha512()}}`
  * `base64` â†’ `{{base64()}}`

## Keywords

* `space` â†’ `{{space}}`
* `nbsp` â†’ `{{nbsp}}`
* `tab` â†’ `{{tab}}`
* `emptystring` â†’ `{{emptystring}}`
* `newline` â†’ `{{newline}}`
* `carriagereturn` â†’ `{{carriagereturn}}`
* `ascii` â†’ `{{ascii}}` *(you had it in the copy string)*

### Copy string (clean)

`{{uuid}}{{length()}}{{lower()}}{{upper()}}{{capitalize()}}{{startcase()}}{{ascii()}}{{replace(; ; )}}{{replaceEmojiCharacters(; )}}{{trim()}}{{substring(; ; )}}{{indexOf(; )}}{{contains(; )}}{{split(; )}}{{toBinary()}}{{toString()}}{{encodeURL()}}{{decodeURL()}}{{escapeHTML()}}{{escapeMarkdown()}}{{stripHTML()}}{{md5()}}{{sha1()}}{{sha256()}}{{sha512()}}{{base64()}}{{space}}{{nbsp}}{{tab}}{{emptystring}}{{newline}}{{carriagereturn}}`

---

# 4) Calendar icon â€” Date & time functions

## Variables

* `timestamp` â†’ `{{timestamp}}`
* `now` â†’ `{{now}}`

## Functions

* Add:

  * `addSeconds` â†’ `{{addSeconds(; )}}`
  * `addMinutes` â†’ `{{addMinutes(; )}}`
  * `addHours` â†’ `{{addHours(; )}}`
  * `addDays` â†’ `{{addDays(; )}}`
  * `addMonths` â†’ `{{addMonths(; )}}`
  * `addYears` â†’ `{{addYears(; )}}`
* Set:

  * `setSecond` â†’ `{{setSecond(; )}}`
  * `setMinute` â†’ `{{setMinute(; )}}`
  * `setHour` â†’ `{{setHour(; )}}`
  * `setDay` â†’ `{{setDay(; )}}`
  * `setDate` â†’ `{{setDate(; )}}`
  * `setMonth` â†’ `{{setMonth(; )}}`
  * `setYear` â†’ `{{setYear(; )}}`
* Format / parse:

  * `formatDate` â†’ `{{formatDate(; )}}`
  * `parseDate` â†’ `{{parseDate(; )}}`

### Copy string (fixing your `formatDat` OCR cut)

`{{timestamp}}{{now}}{{addSeconds(; )}}{{addMinutes(; )}}{{addHours(; )}}{{addDays(; )}}{{addMonths(; )}}{{addYears(; )}}{{setSecond(; )}}{{setMinute(; )}}{{setHour(; )}}{{setDay(; )}}{{setDate(; )}}{{setMonth(; )}}{{setYear(; )}}{{formatDate(; )}}{{parseDate(; )}}`

**Note (EU dates):** Make is happy with both, but when you parse strings, **be explicit in `formatDate()`/`parseDate()`** so DD.MM.YYYY doesnâ€™t get misread as MM.DD.YYYY.

---

# 5) Table icon â€” Array functions

## Functions

* `join` â†’ `{{join(; )}}`
* `length` â†’ `{{length()}}`
* `keys` â†’ `{{keys()}}`
* `slice` â†’ `{{slice(; )}}`
* `merge` â†’ `{{merge(; )}}`
* `contains` â†’ `{{contains(; )}}`
* `remove` â†’ `{{remove()}}`
* `add` â†’ `{{add()}}`
* `map` â†’ `{{map(; )}}`
* `shuffle` â†’ `{{shuffle()}}`
* `sort` â†’ `{{sort()}}`
* `reverse` â†’ `{{reverse()}}`
* `first` â†’ `{{first()}}`
* `last` â†’ `{{last()}}`
* `flatten` â†’ `{{flatten()}}`
* `distinct` â†’ `{{distinct()}}`
* `deduplicate` â†’ `{{deduplicate()}}`
* `toCollection` â†’ `{{toCollection(; ; )}}`
* `toArray` â†’ `{{toArray()}}`

## Keywords

* `emptyarray` â†’ `{{emptyarray}}`

### Copy string (clean)

`{{join(; )}}{{length()}}{{keys()}}{{slice(; )}}{{merge(; )}}{{contains(; )}}{{remove()}}{{add()}}{{map(; )}}{{shuffle()}}{{sort()}}{{reverse()}}{{first()}}{{last()}}{{flatten()}}{{distinct()}}{{deduplicate()}}{{toCollection(; ; )}}{{toArray()}}{{emptyarray}}`

---

# 6) Custom + System variables (Make â€œvar.*â€)

## Scenario

* Credits consumed â†’ `{{var.scenario.creditsConsumed}}`
* Data consumed â†’ `{{var.scenario.dataConsumed}}`
* Execution id â†’ `{{var.scenario.executionId}}`
* Execution name â†’ `{{var.scenario.executionName}}`
* Execution started at â†’ `{{var.scenario.executionStartedAt}}`
* Execution type â†’ `{{var.scenario.executionType}}`
* Execution URL â†’ `{{var.scenario.executionUrl}}`
* Scenario id â†’ `{{var.scenario.id}}`
* Is incomplete execution â†’ `{{var.scenario.isDLQExecution}}`
* Scenario name â†’ `{{var.scenario.name}}`
* Operations consumed â†’ `{{var.scenario.operationsConsumed}}`
* Scenario URL â†’ `{{var.scenario.url}}`

## Team

* Team id â†’ `{{var.team.id}}`
* Team name â†’ `{{var.team.name}}`

## Organization

* Data left â†’ `{{var.organization.dataLeft}}`
* Organization id â†’ `{{var.organization.id}}`
* Organization name â†’ `{{var.organization.name}}`
* Remaining credits / operations left â†’ `{{var.organization.operationsLeft}}`
* Zone domain â†’ `{{var.organization.zoneDomain}}`

---

# 7) Module output pills (the â€œlinearâ€ ones)

## A) Google Sheets module output (Module `14`)

**Module:** `14. Sheets - Lookup Worker (Roster_Master: Worker_ID) - Search Rows`

### Makeâ€™s â€œmetaâ€ output fields

* Bundle meta:

  * Total number of bundles â†’ `{{14.`**IMTLENGTH**`}}`
  * Bundle order position â†’ `{{14.`**IMTINDEX**`}}`
* Row meta:

  * Row number â†’ `{{14.`**ROW_NUMBER**`}}`
  * Spreadsheet ID â†’ `{{14.`**SPREADSHEET_ID**`}}`
  * Sheet â†’ `{{14.`**SHEET**`}}`

### Row values (your columns)

Make is showing them as numeric keys (because itâ€™s Search Rows):

* `Worker_ID (A)` â†’ `{{14.`0`}}`
* `First_Name (B)` â†’ `{{14.`1`}}`
* `Last_Name (C)` â†’ `{{14.`2`}}`
* `Display_Name (D)` â†’ `{{14.`3`}}`
* `Phone_E164 (E)` â†’ `{{14.`4`}}`
* `Language_Preference (F)` â†’ `{{14.`5`}}`
* `Crew (G)` â†’ `{{14.`6`}}`
* `Truck (H)` â†’ `{{14.`7`}}`
* `Default_Site_1_Name (I)` â†’ `{{14.`8`}}`
* `Default_Site_1_Address (J)` â†’ `{{14.`9`}}`
* `Default_Task_1 (K)` â†’ `{{14.`10`}}`
* `Is_Sub (L)` â†’ `{{14.`11`}}`
* `Include_in_Employee_Pipelines (M)` â†’ `{{14.`12`}}`
* `Portal_Token (N)` â†’ `{{14.`13`}}`
* `Portal_URL (O)` â†’ `{{14.`14`}}`
* `Portal_Active (P)` â†’ `{{14.`15`}}`
* `Notes (Q)` â†’ `{{14.`16`}}`
* Extra columns (Râ€“Z) appear as blanks in the UI and are still addressable if present:

  * `{{14.`17`}}` â€¦ `{{14.`25`}}`

**Important:** your copy list includes `{{`14`}}` at the start â€” thatâ€™s just the module â€œtokenâ€ and is normal when copying in bulk.

---

## B) Webhook module output (Module `1`)

**Module:** `1. Webhook - Twilio Inbound Call (Scenario 9) - Custom webhook`

### Core Twilio-ish fields (as Make shows them)

* From â†’ `{{1.From}}`
* To â†’ `{{1.To}}`
* CallSid â†’ `{{1.CallSid}}`
* AccountSid â†’ `{{1.AccountSid}}`
* CallStatus â†’ `{{1.CallStatus}}`
* ApiVersion â†’ `{{1.ApiVersion}}`
* Direction â†’ `{{1.Direction}}`

### Location-ish

* FromCity â†’ `{{1.FromCity}}`
* FromState â†’ `{{1.FromState}}`
* FromZip â†’ `{{1.FromZip}}`
* FromCountry â†’ `{{1.FromCountry}}`
* ToCity â†’ `{{1.ToCity}}`
* ToState â†’ `{{1.ToState}}`
* ToZip â†’ `{{1.ToZip}}`
* ToCountry â†’ `{{1.ToCountry}}`

### Caller / routing

* CallerName â†’ `{{1.CallerName}}`
* ForwardedFrom â†’ `{{1.ForwardedFrom}}`
* ParentCallSid â†’ `{{1.ParentCallSid}}`
* Digits â†’ `{{1.Digits}}`

### Your **universal priming** fields

* Mode â†’ `{{1.Mode}}`
* WorkerID â†’ `{{1.WorkerID}}`
* SiteRow â†’ `{{1.SiteRow}}`
* Language â†’ `{{1.Language}}`
* CallLogID â†’ `{{1.CallLogID}}`
* SpeechResult â†’ `{{1.SpeechResult}}`
* Confidence â†’ `{{1.Confidence}}`

### Recording / status / timing

* RecordingSid â†’ `{{1.RecordingSid}}`
* RecordingUrl â†’ `{{1.RecordingUrl}}`
* RecordingStatus â†’ `{{1.RecordingStatus}}`
* RecordingDuration â†’ `{{1.RecordingDuration}}`
* AnsweredBy â†’ `{{1.AnsweredBy}}`
* Timestamp â†’ `{{1.Timestamp}}`

### Errors

* ErrorCode â†’ `{{1.ErrorCode}}`
* ErrorMessage â†’ `{{1.ErrorMessage}}`

---

# 8) Why your copied â€œmerged linesâ€ happen

When you â€œcopy pillsâ€ from the mapper, Make often dumps them as a **single concatenated token stream** (no commas/newlines), like:

`{{pi}}{{random}}{{average()}} ... < <= > >=`

Thatâ€™s normal: itâ€™s not implying theyâ€™re one function â€” itâ€™s just Makeâ€™s copy format.

---

# 9) Likely OCR typos I corrected (so you donâ€™t chase ghosts)

* `formatDat` â†’ **formatDate**
* `parsedate` â†’ **parseDate**
* `Length` â†’ Make UI is usually **length** (but copy token is `{{length()}}`)
* `Shal` â†’ **sha1**
* `indexof` / `indexof|` â†’ **indexOf**
* `bundlel` â†’ **bundle1** / â€œbundleâ€ label

---

If you paste your **actual screenshot of the function drawer** (even one), I can do a **deep UI pass** and confirm whether anything is missing in your Make tenant (some workspaces show slightly different function sets).
